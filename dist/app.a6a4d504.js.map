{"version":3,"sources":["src/app.js"],"names":["windows","document","querySelectorAll","fourlineBoard","querySelector","childrenBoard","children","tab","lightbox","createElement","id","body","appendChild","rowsBoard","columnsBoard","valueBoard","Array","fill","opponent","you","player","forEach","window","addEventListener","e","checkColumn","addChip","startAgain","classList","remove","style","display","position","parseInt","target","substring","column","i","item","add","element","contains","parentElement","insertIndex","charAt","firstElementChild","isFinished","color","backgroundColor","tabBoard","counter","x","y","bias1","generateTable","isWin","vertically","bias2","horizontally","toVerify","direction","pos","tabDirection","moveAmount","pattern","repeat","comparison","join","includes","startIndex","indexOf","startPosition","circleWonPosition","length","setTimeout","wonLightbox","inc1","inc2","inc3","inc4","tab1","generateSubTable","tab2","reverse","incrementRow","incrementColumn","currentColumn","currentRow","temp1","temp2","push","div","innerHTML","firstChild","removeChild"],"mappings":"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","file":"app.a6a4d504.js","sourceRoot":"..","sourcesContent":["const windows = document.querySelectorAll('.window')\r\nconst fourlineBoard = document.querySelector('.fourline')\r\nconst childrenBoard = fourlineBoard.children\r\nconst tab = document.querySelector(\".nav__li\")\r\nconst lightbox = document.createElement('div')\r\n\r\nlightbox.id = 'lightbox'\r\ndocument.body.appendChild(lightbox)\r\n\r\nconst rowsBoard = 6\r\nconst columnsBoard = 7\r\nconst valueBoard = new Array(rowsBoard * columnsBoard).fill(\"e\")\r\nconst opponent = \"opponent\"\r\nconst you = \"you\"\r\nlet player = you\r\n\r\nwindows.forEach(window => {\r\n    window.addEventListener('mouseenter', e => {\r\n        checkColumn(e)\r\n    })\r\n    window.addEventListener('click', e => {\r\n        addChip(e)\r\n    })\r\n})\r\n\r\ntab.addEventListener('click', () => {\r\n    startAgain()\r\n})\r\n\r\nlightbox.addEventListener('click', e => {\r\n    startAgain()\r\n    lightbox.classList.remove('lightbox--active')\r\n    lightbox.style.display = \"none\"\r\n})\r\n\r\nfourlineBoard.addEventListener('mouseleave', () => windows.forEach(window => window.classList.remove(\"column\")))\r\n\r\nfunction checkColumn(e) {\r\n    const position = parseInt(e.target.id.substring(6))\r\n    const column = position % columnsBoard\r\n    windows.forEach(window => window.classList.remove(\"column\"))\r\n    for (let i = column; i < rowsBoard * columnsBoard; i += columnsBoard) {\r\n        childrenBoard.item(i).classList.add(\"column\")\r\n    }\r\n}\r\n\r\nfunction addChip(e) {\r\n    element = e.target\r\n    if (element.classList.contains(\"circle\")) {\r\n        element = element.parentElement\r\n    }\r\n    const position = parseInt(element.id.substring(6))\r\n    const column = position % columnsBoard\r\n    let insertIndex = column + columnsBoard * (rowsBoard - 1)\r\n    while (true) {\r\n        if (valueBoard[insertIndex] === \"e\") {\r\n            valueBoard[insertIndex] = player.charAt(0)\r\n            childrenBoard.item(insertIndex).firstElementChild.classList.add(`circle--selected${player}`)\r\n            isFinished(insertIndex)\r\n            break\r\n        }\r\n        insertIndex -= columnsBoard\r\n        if (insertIndex < 0) return\r\n    }\r\n    const color = player === you ? \"#cc33ff\" : \"#ff3399\"\r\n    tab.style.backgroundColor = color\r\n    player = player === you ? opponent : you\r\n\r\n}\r\n\r\nfunction isFinished(position) {\r\n    let tabBoard = new Array();\r\n    let counter = 0;\r\n    for (let x = 0; x < rowsBoard; x++) {\r\n        tabBoard[x] = [];\r\n        for (let y = 0; y < columnsBoard; y++) {\r\n            tabBoard[x][y] = valueBoard[counter++]\r\n        }\r\n    }\r\n    const bias1 = generateTable(position, tabBoard, -1, -1, 1, 1)\r\n    isWin(bias1, 0, position)\r\n    const vertically = generateTable(position, tabBoard, -1, 0, 1, 0)\r\n    isWin(vertically, 1, position)\r\n    const bias2 = generateTable(position, tabBoard, 1, -1, -1, 1)\r\n    isWin(bias2, 2, position)\r\n    const horizontally = generateTable(position, tabBoard, 0, -1, 0, 1)\r\n    isWin(horizontally, 3, position)\r\n}\r\n\r\nfunction isWin(toVerify, direction, position) {\r\n    const { tab, pos } = toVerify\r\n    const tabDirection = [8, 7, -6, 1]\r\n    const moveAmount = tabDirection[direction]\r\n    const pattern = player.charAt(0).repeat(4)\r\n    const comparison = tab.join(\"\")\r\n    if (comparison.includes(pattern)) {\r\n        const startIndex = comparison.indexOf(pattern)\r\n        const startPosition = position - (pos - startIndex) * moveAmount\r\n        let circleWonPosition\r\n        for (let i = startIndex; i < comparison.length; i++) {\r\n            if (comparison[i] !== player.charAt(0)) {\r\n                break\r\n            }\r\n            circleWonPosition = (i - startIndex) * moveAmount + startPosition\r\n            childrenBoard.item(circleWonPosition).firstElementChild.classList.add(`circle--won`)\r\n        }\r\n        setTimeout( () => wonLightbox(), 500)\r\n    }\r\n}\r\n\r\nfunction generateTable(position, tabBoard, inc1, inc2, inc3, inc4) {\r\n    const tab1 = generateSubTable(position, tabBoard, inc1, inc2)\r\n    const tab2 = generateSubTable(position, tabBoard, inc3, inc4)\r\n    tab1.reverse()\r\n    const tab = [...tab1, valueBoard[position], ...tab2]\r\n    return { tab, pos: tab1.length }\r\n}\r\n\r\nfunction generateSubTable(position, tabBoard, incrementRow, incrementColumn) {\r\n    const tab = []\r\n    let currentColumn = position % columnsBoard\r\n    let currentRow = (position - currentColumn) / columnsBoard\r\n    let temp1 = incrementRow\r\n    let temp2 = incrementColumn\r\n    for (let i = 1; i < 4; i++) {\r\n        if (currentRow + incrementRow < rowsBoard && currentColumn + incrementColumn < columnsBoard\r\n            && currentRow + incrementRow >= 0 && currentColumn + incrementColumn >= 0) {\r\n            tab.push(tabBoard[currentRow + incrementRow][currentColumn + incrementColumn])\r\n        }\r\n        incrementRow += temp1\r\n        incrementColumn += temp2\r\n    }\r\n    return tab\r\n}\r\n\r\nfunction startAgain() {\r\n    player = you\r\n    tab.style.backgroundColor = \"#ff3399\"\r\n    for (let i = 0; i < valueBoard.length; i++) {\r\n        valueBoard[i] = \"e\"\r\n        childrenBoard.item(i).firstElementChild.classList = \"circle\"\r\n    }\r\n}\r\n\r\nfunction wonLightbox() {\r\n    lightbox.classList.add('lightbox--active')\r\n    lightbox.style.display = \"block\"\r\n    lightbox.style.display = \"flex\"\r\n    const div = document.createElement('div')\r\n    div.classList.add('div--won')\r\n    div.innerHTML = \"YOU WON\"\r\n    const color = player === you ? \"#cc33ff\" : \"#ff3399\"\r\n    div.style.color = color\r\n    while(lightbox.firstChild){\r\n        lightbox.removeChild(lightbox.firstChild)\r\n    }\r\n    lightbox.appendChild(div)\r\n}"]}